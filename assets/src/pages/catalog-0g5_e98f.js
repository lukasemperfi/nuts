import{s as _,p as w,i as f,a as v,b as g,l as b}from"../../footer-kwW1Dzn6.js";import{i as L,N as S}from"../../navigation-DOgKByzg.js";import{f as y}from"../../product-list-D-xS67lM.js";import{i as P}from"../../breadcrumbs-CCIHsRy6.js";import"../../toast-CN32rl5C.js";const E=()=>{B()};function B(){return L(".walnut-slider",{slidesPerView:"auto",navigation:{nextEl:".walnut-slider__next",prevEl:".walnut-slider__prev"},modules:[S]})}const F=()=>{let t={weight:[],flavor:[],sort:null};l(),_.dispatch(w.setFilters(t)),_.dispatch(w.setInitialized(!0));function r(e,o){if(e==="sort"){t.sort=o;return}const c=t[e];c.includes(o)?t[e]=c.filter(h=>h!==o):t[e].push(o)}function i(){t.weight=[],t.flavor=[],t.sort=null,a()}function s(){const e=new URLSearchParams;t.weight.forEach(c=>e.append("weight",c)),t.flavor.forEach(c=>e.append("flavor",c)),t.sort&&e.set("sort",t.sort);const o=window.location.pathname+(e.toString()?`?${e.toString()}`:"");window.history.replaceState({},"",o)}function a(){const e=window.location.pathname;window.history.replaceState({},"",e)}function l(){const e=new URLSearchParams(window.location.search);t.weight=e.getAll("weight"),t.flavor=e.getAll("flavor"),t.sort=e.get("sort")||null}const n=f({selector:".product-filters-bar__flavor-select",onChange:(e,o)=>r(e,o),defaultValues:[...t.flavor]}),d=f({selector:".product-filters-bar__weight-select",onChange:(e,o)=>r(e,o),defaultValues:[...t.weight]}),p=m({selector:".filter-btn_price-desktop",onClick:(e,o)=>r(e,o),defaultValue:t.sort}),u=m({selector:".filter-btn_price-mobile",onClick:(e,o)=>r(e,o),defaultValue:t.sort});k({selector:".filter-actions__apply-btn",onClick:()=>{s(),location.reload()}}),U({selector:".filter-actions__reset-btn",onClick:()=>{n.reset(),d.reset(),p.reset(),u.reset(),i(),location.reload()}})},m=({selector:t,defaultValue:r,onClick:i})=>{const s=document.querySelector(t);if(!s)return;const a=s.querySelector(".filter-btn__icon_arrowUp"),l=s.querySelector(".filter-btn__icon_arrowDown");let n=r||null;const d=()=>{n==="asc"?(a.classList.add("filter-btn__icon_active"),l.classList.remove("filter-btn__icon_active")):n==="desc"?(l.classList.add("filter-btn__icon_active"),a.classList.remove("filter-btn__icon_active")):(a.classList.remove("filter-btn__icon_active"),l.classList.remove("filter-btn__icon_active"))};return d(),s.addEventListener("click",()=>{if(n=n==="asc"?"desc":"asc",d(),i){const u=s.dataset.name;i(u,n)}}),{reset:()=>{n=null,d()}}},U=({selector:t,onClick:r})=>{const i=document.querySelector(t);i&&i.addEventListener("click",()=>{r&&r()})},k=({selector:t,onClick:r})=>{const i=document.querySelector(t);i&&i.addEventListener("click",()=>{r&&r()})},R=()=>{F(),y(".products__catalog")},V=()=>{P(".hero__breadcrumbs .page-container")};document.addEventListener("DOMContentLoaded",()=>{v(),f({selector:".top-header__lang"}),V(),E(),R(),g(),b(".lazy",{rootMargin:"200px 0px"})});
