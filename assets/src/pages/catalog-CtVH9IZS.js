import{i as g,N as v,a as f}from"../../navigation-CF5QoLVZ.js";const h=()=>{m()};function m(){return g(".walnut-slider",{slidesPerView:"auto",navigation:{nextEl:".walnut-slider__next",prevEl:".walnut-slider__prev"},modules:[v]})}const b=()=>{let e={weight:[],flavor:[],price:null};a();function i(t,n){if(t==="price"){e.price=n,r(),console.log(e);return}const l=e[t];l.includes(n)?e[t]=l.filter(w=>w!==n):e[t].push(n),r(),console.log(e)}function c(){e.weight=[],e.flavor=[],e.price=null,s()}function r(){const t=new URLSearchParams;e.weight.forEach(l=>t.append("weight",l)),e.flavor.forEach(l=>t.append("flavor",l)),e.price&&t.set("price",e.price);const n=window.location.pathname+(t.toString()?`?${t.toString()}`:"");window.history.replaceState({},"",n)}function s(){const t=window.location.pathname;window.history.replaceState({},"",t),console.log("Фильтры сброшены:",e)}function a(){const t=new URLSearchParams(window.location.search);e.weight=t.getAll("weight"),e.flavor=t.getAll("flavor"),e.price=t.get("price")||null}const o=f({selector:".product-filters-bar__flavor-select",onChange:(t,n)=>i(t,n),defaultValues:[...e.flavor]}),u=f({selector:".product-filters-bar__weight-select",onChange:(t,n)=>i(t,n),defaultValues:[...e.weight]}),_=p({selector:".filter-btn_price-desktop",onClick:(t,n)=>i(t,n),defaultValue:e.price}),d=p({selector:".filter-btn_price-mobile",onClick:(t,n)=>i(t,n),defaultValue:e.price});L({selector:".filter-actions__reset-btn",onClick:()=>{o.reset(),u.reset(),_.reset(),d.reset(),c(),console.log(e)}})},p=({selector:e,defaultValue:i,onClick:c})=>{const r=document.querySelector(e);if(!r)return;const s=r.querySelector(".filter-btn__icon_arrowUp"),a=r.querySelector(".filter-btn__icon_arrowDown");let o=i||null;const u=()=>{o==="asc"?(s.classList.add("filter-btn__icon_active"),a.classList.remove("filter-btn__icon_active")):o==="desc"?(a.classList.add("filter-btn__icon_active"),s.classList.remove("filter-btn__icon_active")):(s.classList.remove("filter-btn__icon_active"),a.classList.remove("filter-btn__icon_active"))};return u(),r.addEventListener("click",()=>{if(o=o==="asc"?"desc":"asc",u(),c){const d=r.dataset.name;c(d,o)}}),{reset:()=>{o=null,u()}}},L=({selector:e,onClick:i})=>{const c=document.querySelector(e);c&&c.addEventListener("click",()=>{i&&i()})},S=()=>{b()};document.addEventListener("DOMContentLoaded",()=>{f({selector:".top-header__lang"}),h(),S()});
