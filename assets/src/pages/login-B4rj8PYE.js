import{s as d,A as t,c as m,i as u,a as f,b as g,l as L}from"../../footer-D-zPFELP.js";import{i as _}from"../../breadcrumbs-CDZIjPaA.js";import{J as E,c as b,r as F}from"../../redirect-BGt_XRA5.js";const S=()=>{_(".login-page-breadcrumbs__container","breadcrumbs_color_muted")},r={FORM:"#login-form",EMAIL:"#login-email",PASSWORD:"#login-password"},i={rule:"required",errorMessage:"Поле обязательно для заполнения"},p={rule:"email",errorMessage:"Введите корректный email"};function O(){const o={errorFieldCssClass:"form-field__input_error",errorLabelCssClass:"form-field__error",focusInvalidField:!0,lockForm:!0,validateBeforeSubmitting:!0,errorFieldStyle:{},errorLabelStyle:{}},e=new E(r.FORM,o);return e.addField(r.EMAIL,[i,p]).addField(r.PASSWORD,[i]),e}let D="/nuts/";const M=()=>{O().onSuccess(async o=>{o.preventDefault();const e=document.querySelector(r.FORM),n=new FormData(e),{email:l,password:c}=Object.fromEntries(n.entries()),a=b("Вы успешно вошли в систему!");d.subscribe("auth",async s=>{s.status===t.LOADING&&a.show(),s.status===t.SUCCEEDED&&(a.success(),F(D,2e3))}),await m(l,c)})};document.addEventListener("DOMContentLoaded",async()=>{u({selector:".top-header__lang"}),f(),S(),M(),g(),L(".lazy",{rootMargin:"200px 0px"})});
