import{d as l,i as d,a as c,b as m,l as u,T as p,e as y,f as b}from"../../../footer-kwW1Dzn6.js";import{i as f}from"../../../breadcrumbs-k0QsKmE3.js";import{i as w}from"../../../profile-section-Lnmzs4iE.js";import{o as g}from"../../../order-WLLM2Bow.js";import{c as h}from"../../../action-cell-Yh6qb5xd.js";import"../../../breadcrumbs-CCIHsRy6.js";const T=[{key:"orderNumber",label:"№ Заказа",type:"text",width:"1fr",align:"left"},{key:"date",label:"Дата",type:"text",width:"1fr"},{key:"itemsCount",label:"Кол-во товаров",type:"text",width:"1fr"},{key:"status",label:"Статус",type:"text",width:"1fr"},{key:"total",label:"Стоимость",type:"currency",width:"1fr",render:e=>b(e.total,"грн.")},{key:"actions",label:"Функции",type:"component",width:"1fr",render:e=>h(e)}];document.addEventListener("DOMContentLoaded",async()=>{await l();const e=document.querySelector(".profile-section__content");d({selector:".top-header__lang"}),c(),f(),w(),m(),u(".lazy",{rootMargin:"200px 0px"});const t=await g.getOrders(),r=C(t);t.length===0?e.innerHTML='<div class="table__empty-message" style="height: 100%">У вас нет заказов!</div>':_({container:e,columns:T,rows:r})});function _({container:e,columns:t=[],rows:r=[],footer:o={},showHeader:n=!0}){e.innerHTML="";const a=document.createElement("div");a.classList.add("orders-table");const i=new p(r),s={columns:t,rows:i.getRows(),totalAmount:i.calculateTotalAmount(),footer:o,showHeader:n};new y(a,s),e.appendChild(a)}function C(e){return e.map(t=>{const o=new Date(t.created_at).toLocaleString("ru-RU",{day:"2-digit",month:"2-digit",year:"numeric"});return{id:t.id,orderNumber:t.order_number,date:o,itemsCount:t.order_items.reduce((n,a)=>n+a.quantity,0),status:t.status,total:t.total_amount}})}
