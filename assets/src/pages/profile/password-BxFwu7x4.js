import{d,i as l,a as S,b as R,l as m}from"../../../footer-kwW1Dzn6.js";import{i as u}from"../../../breadcrumbs-k0QsKmE3.js";import{i as O}from"../../../profile-section-Lnmzs4iE.js";import{J as _,R as a,P as i,c as f}from"../../../rules-BILaquOo.js";import"../../../breadcrumbs-CCIHsRy6.js";const e={FORM:"#password-form",CURRENT_PASSWORD:"#password-current_password",PASSWORD:"#password-new_password",CONFIRM_PASSWORD:"#password-confirm_password"},p={validator:(t,r)=>{if(r[e.PASSWORD]&&r[e.PASSWORD].elem){const o=r[e.PASSWORD].elem.value;return t===o}return!0},errorMessage:"Пароли должны быть одинаковыми"},n={[e.CURRENT_PASSWORD]:[a,i],[e.PASSWORD]:[a,i],[e.CONFIRM_PASSWORD]:[a,p]};function P(){const t={errorFieldCssClass:"form-field__input_error",errorLabelCssClass:"form-field__error",focusInvalidField:!0,lockForm:!0,validateBeforeSubmitting:!0,errorFieldStyle:{},errorLabelStyle:{}},r=new _(e.FORM,t);for(const o in n)r.addField(o,n[o]);return r}const D=()=>{P().onSuccess(async t=>{t.preventDefault();const r=document.querySelector(e.FORM),o=new FormData(r);Object.fromEntries(o.entries());const s=f({successText:"Данные изменены успешно!"});try{s.success(),setTimeout(()=>{window.location.reload()},1e3)}catch(c){console.error("Ошибка при обновлении профиля:",c),s.hide()}})};document.addEventListener("DOMContentLoaded",async()=>{await d(),l({selector:".top-header__lang"}),S(),u(),O(),D(),R(),m(".lazy",{rootMargin:"200px 0px"})});
