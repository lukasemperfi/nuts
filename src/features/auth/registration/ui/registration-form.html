{%from "src/shared/ui/form-field/form-field.html" import formField%}
{%from "src/shared/ui/button/button.html" import button%}
{%from "src/shared/ui/radio/radio.html" import radio%}
{%from "src/shared/ui/upload-photo/upload-photo.html" import uploadPhoto%}
{%from "src/shared/ui/dropdown/dropdown.html" import dropdown%}


{%macro registrationForm(baseUrl)%}

<form action="#" class="registration-form" id="registration-form">
    <div class="registration-form__title">Регистрация</div>
    <div class="registration-form__body">
        <div class="registration-form__item form-item registration-form-item_contacts">
            <div class="form-item__title">1. Контактные данные</div>
            <div class="form-item__fields">
                {{ formField(name="full_name", placeholder="ФИО", required=true, id="registration-full-name")
                }}
                {{ formField(name="email", placeholder="Email", required=true, id="registration-email") }}
                {{ formField(name="phone", placeholder="Телефон", required=true, id="registration-phone") }}
            </div>
        </div>
        <div class="registration-form__item form-item registration-form-item_address">
            <div class="form-item__title">2. Адрес</div>
            <div class="form-item__fields">
                {{dropdown(name="country",
                class="registration-form__country-dropdown
                dropdown_select dropdown_highlight-selected",
                placeholder="Страна", id="registration-country")}}
                {{dropdown(name="region", class="registration-form__region-dropdown
                dropdown_select dropdown_highlight-selected",
                placeholder="Область", id="registration-region")}}
                {{ formField(name="city", placeholder="Город", required=true, id="registration-city") }}
                {{ formField(name="address", placeholder="Адрес", id="registration-address") }}
            </div>
        </div>
        <div class="registration-form__item form-item registration-form-item_password">
            <div class="form-item__title">3. Пароль</div>
            <div class="form-item__fields">
                {{ formField(name="password", placeholder="Пароль", required=true, id="registration-password") }}
                {{ formField(name="confirm_password", placeholder="Подтвердите пароль", required=true,
                id="registration-confirm-password") }}
            </div>
        </div>

        <div class="registration-form__item form-item registration-form-item_person-type">
            {{uploadPhoto(class="registration-form__avatar", id="registration__avatar-file", baseUrl=baseUrl)}}
            <div class="registration-form__person-type-group">
                {{ radio("person_type", "physical", "Физ. лицо", "id-physical", true) }}
                {{ radio("person_type", "fop", "ФОП", "id-fop") }}
                {{ radio("person_type", "legal", "Юр. лицо", "id-legal" ) }}
            </div>
        </div>

        <div class="registration-form__group registration-form-item_entity-details">
            {{fopEntity()}}
            {{legalEntity()}}
        </div>
    </div>
    <div class="registration-form__footer">
        <div class="registration-form-checkbox">
            <input type="checkbox" id="registration-agree" class="registration-form-checkbox__input">
            <label for="registration-agree" class="registration-form-checkbox__label">
                <span class="registration-form-checkbox__text">Я согласен с <span
                        class="registration-form-checkbox__link">Условиями регистрации</span></span>
            </label>
            <span class="registration-form-checkbox__error form-field__error"></span>
        </div>
        {{button(text="Продолжить", class="button_primary button_size-lg registration-form__submit-btn")}}
    </div>
</form>
{%endmacro%}


{%macro legalEntity()%}
<div class="legal-entity hidden">
    <div class="registration-form__item form-item">
        <div class="form-item__title">1. Реквизиты</div>
        <div class="form-item__fields">
            {{ formField(name="legal_entity_okpo", placeholder="ОКПО", id="registration-legal-entity-okpo") }}
        </div>
    </div>
    <div class="registration-form__item form-item">
        <div class="form-item__title">2. Юридический адрес</div>
        <div class="form-item__fields">
            {{dropdown(name="legal_entity_country",
            class="registration-form__legal-entity-country-dropdown
            dropdown_select dropdown_highlight-selected",
            placeholder="Страна", id="registration-legal-entity-country")}}
            {{dropdown(name="legal_entity_region",
            class="registration-form__legal-entity-region-dropdown
            dropdown_select dropdown_highlight-selected",
            placeholder="Область", id="registration-legal-entity-region")}}
            {{ formField(name="legal_entity_city", placeholder="Город", required=true,
            id="registration-legal-entity-city") }}
            {{ formField(name="legal_entity_address", placeholder="Адрес", id="registration-legal-entity-address") }}
            {{ formField(name="legal_entity_postal_code", placeholder="Индекс",
            id="registration-legal-entity-postal-code") }}
        </div>
    </div>
</div>
{%endmacro%}

{%macro fopEntity()%}
<div class="fop-entity hidden">
    <div class="registration-form__item form-item">
        <div class="form-item__title">1. Реквизиты</div>
        <div class="form-item__fields">
            {{ formField(name="fop_edrpou", placeholder="ЕДРПО", id="registration-fop-edrpou") }}
        </div>
    </div>
    <div class="registration-form__item form-item">
        <div class="form-item__title">2. Адрес ФОП</div>
        <div class="form-item__fields">
            {{dropdown(name="fop_country",
            class="registration-form__fop-country-dropdown
            dropdown_select dropdown_highlight-selected",
            placeholder="Страна", id="registration-fop-country")}}
            {{dropdown(name="fop_region", class="registration-form__fop-region-dropdown
            dropdown_select dropdown_highlight-selected",
            placeholder="Область", id="registration-fop-region")}}
            {{ formField(name="fop_city", placeholder="Город", required=true, id="registration-fop-city") }}
            {{ formField(name="fop_address", placeholder="Адрес",id="registration-fop-address") }}
        </div>
    </div>
</div>
{%endmacro%}