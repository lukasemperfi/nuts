{%from "src/shared/ui/form-field/form-field.html" import formField%}
{%from "src/shared/ui/button/button.html" import button%}
{%from "src/shared/ui/radio/radio.html" import radio%}
{%from "src/shared/ui/upload-photo/upload-photo.html" import uploadPhoto%}
{%from "src/shared/ui/dropdown/dropdown.html" import dropdown%}

{%set countries = [
{"id":1,"value": "raw","label":"Сырой"},
{"id":2,"value": "fried","label":"Жареный"},
{"id":3,"value": "salted","label":"Соленый"},
{"id":4,"value": "honey","label":"В меду"},
{"id":5,"value": "shell","label":"В скорлупе"},
{"id":6,"value": "without-additives","label":"Без добавок"}
]
%}

{%set regions = [
{"id":1,"value": "raw","label":"Сырой"},
{"id":2,"value": "fried","label":"Жареный"},
{"id":3,"value": "salted","label":"Соленый"},
{"id":4,"value": "honey","label":"В меду"},
{"id":5,"value": "shell","label":"В скорлупе"},
{"id":6,"value": "without-additives","label":"Без добавок"}
]
%}

{%macro registrationForm()%}

<form action="#" class="registration-form" id="registration-form">
    <div class="registration-form__title">Регистрация</div>
    <div class="registration-form__body">
        <div class="registration-form__item registration-form-item registration-form-item_contacts">
            <div class="registration-form-item__title">1. Контактные данные</div>
            <div class="registration-form-item__fields">
                {{ formField(name="full-name", placeholder="ФИО", required=true, id="registration-full-name")
                }}
                {{ formField(name="email", placeholder="Email", required=true, id="registration-email") }}
                {{ formField(name="phone", placeholder="Телефон", required=true, id="registration-phone") }}
            </div>
        </div>
        <div class="registration-form__item registration-form-item registration-form-item_address">
            <div class="registration-form-item__title">2. Адрес</div>
            <div class="registration-form-item__fields">
                {{dropdown(name="country", options=countries,
                class="registration-form__country-dropdown
                dropdown_select",
                placeholder="Страна", id="registration-country")}}
                {{dropdown(name="region", options=regions, class="registration-form__region-dropdown
                dropdown_select",
                placeholder="Область", id="registration-region")}}
                {{ formField(name="city", placeholder="Город", required=true, id="registration-city") }}
                {{ formField(name="address", placeholder="Адрес", id="registration-address") }}
            </div>
        </div>
        <div class="registration-form__item registration-form-item registration-form-item_password">
            <div class="registration-form-item__title">3. Пароль</div>
            <div class="registration-form-item__fields">
                {{ formField(name="password", placeholder="Пароль", required=true, id="registration-password") }}
                {{ formField(name="confirm-password", placeholder="Подтвердите пароль", required=true,
                id="registration-confirm-password") }}
            </div>
        </div>

        <div class="registration-form__item registration-form-item registration-form-item_person-type">
            {{uploadPhoto(class="registration-form__avatar")}}
            <div class="registration-form__person-type-group">
                {{ radio("person-type-group", "physical", "Физ. лицо", "id-physical", true) }}
                {{ radio("person-type-group", "fop", "ФОП", "id-fop") }}
                {{ radio("person-type-group", "legal", "Юр. лицо", "id-legal" ) }}
            </div>
        </div>

        <div class="registration-form__group registration-form-item_entity-details">
            {{fopEntity()}}
            {{legalEntity()}}
        </div>
    </div>
    <div class="registration-form__footer">
        <div class="registration-form-checkbox">
            <input type="checkbox" id="registration-agree" class="registration-form-checkbox__input">
            <label for="registration-agree" class="registration-form-checkbox__label">
                <span class="registration-form-checkbox__text">Я согласен с <span
                        class="registration-form-checkbox__link">Условиями регистрации</span></span>
            </label>
            <span class="registration-form-checkbox__error form-field__error"></span>
        </div>
        {{button(text="Продолжить", class="button_primary button_size-lg registration-form__submit-btn")}}
    </div>
</form>
{%endmacro%}


{%macro legalEntity()%}
<div class="legal-entity hidden">
    <div class="registration-form__item registration-form-item">
        <div class="registration-form-item__title">1. Реквизиты</div>
        <div class="registration-form-item__fields">
            {{ formField(name="legal-entity-okpo", placeholder="ОКПО", id="registration-legal-entity-okpo") }}
        </div>
    </div>
    <div class="registration-form__item registration-form-item">
        <div class="registration-form-item__title">2. Юридический адрес</div>
        <div class="registration-form-item__fields">
            {{dropdown(name="legal-entity-country", options=countries,
            class="registration-form__legal-entity-country-dropdown
            dropdown_select",
            placeholder="Страна", id="registration-legal-entity-country")}}
            {{dropdown(name="legal-entity-region", options=regions,
            class="registration-form__legal-entity-region-dropdown
            dropdown_select",
            placeholder="Область", id="registration-legal-entity-region")}}
            {{ formField(name="legal-entity-city", placeholder="Город", required=true,
            id="registration-legal-entity-city") }}
            {{ formField(name="legal-entity-address", placeholder="Адрес", id="registration-legal-entity-address") }}
            {{ formField(name="legal-entity-postal-code", placeholder="Индекс",
            id="registration-legal-entity-postal-code") }}
        </div>
    </div>
</div>
{%endmacro%}

{%macro fopEntity()%}
<div class="fop-entity hidden">
    <div class="registration-form__item registration-form-item">
        <div class="registration-form-item__title">1. Реквизиты</div>
        <div class="registration-form-item__fields">
            {{ formField(name="fop-edrpou", placeholder="ЕДРПО", id="registration-fop-edrpou") }}
        </div>
    </div>
    <div class="registration-form__item registration-form-item">
        <div class="registration-form-item__title">2. Адрес ФОП</div>
        <div class="registration-form-item__fields">
            {{dropdown(name="fop-country", options=countries,
            class="registration-form__fop-country-dropdown
            dropdown_select",
            placeholder="Страна", id="registration-fop-country")}}
            {{dropdown(name="fop-region", options=regions, class="registration-form__fop-region-dropdown
            dropdown_select",
            placeholder="Область", id="registration-fop-region")}}
            {{ formField(name="fop-city", placeholder="Город", required=true, id="registration-fop-city") }}
            {{ formField(name="fop-address", placeholder="Адрес",id="registration-fop-address") }}
        </div>
    </div>
</div>
{%endmacro%}