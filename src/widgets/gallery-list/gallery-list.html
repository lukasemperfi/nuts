{%from "src/shared/ui/picture/picture.html" import picture%}

{%macro galleryList(items)%}

<div class="gallery-list">
    {%for item in items%}
    <div
        class="gallery-list__item {{item.className}} {% if item.video %}gallery-list__item_video {%else%} gallery-list__item_picture{% endif %}">
        {{ galleryVideoCard(item) if item.video else galleryPictureCard(item) }}
    </div>
    {%endfor%}
</div>
{%endmacro%}


{%macro galleryPictureCard(item)%}
<div class="gallery-picture-card">
    {{picture(jpgSrc=item.image.src, webpSrc=item.image.webpSrc, loading=item.image.loading,
    class="gallery-picture-card__image", alt=item.image.alt)}}
    <div class="gallery-picture-card__content">
        <div class="gallery-picture-card__title">{{item.title}}</div>
        <p class="gallery-picture-card__description">{{item.description | safe}}</p>
    </div>
    {% if item.decor %}
    <div class="gallery-picture-card__icon">
        <svg width="322" height="293" viewBox="0 0 322 293" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path
                d="M161 0.00698746C246.809 -0.76676 321.716 62.8095 321.999 145.858C322.282 225.941 252.898 292.87 161.424 292.999C67.6851 293.257 0.141802 224.394 0.000201572 146.632C-0.141399 64.228 74.3403 -0.76676 161 0.00698746ZM214.666 188.028C216.365 189.059 216.649 189.446 217.073 189.575C243.553 194.862 269.465 193.315 295.237 185.577C298.918 184.417 300.334 182.096 301.042 179.001C307.414 155.272 306.99 131.802 299.343 108.461C298.21 104.979 296.653 103.56 292.405 104.463C274.421 108.461 256.013 109.234 237.605 107.558C232.649 107.171 230.525 108.332 228.685 112.329C223.587 124.193 216.79 135.155 208.011 145.214C207.161 146.245 206.737 147.664 205.745 149.469C217.781 149.34 226.844 153.08 229.817 163.397C233.074 175.003 227.41 183.127 214.666 188.028ZM17.1338 135.155C16.8506 138.121 16.2842 140.442 16.4258 142.634C17.1338 152.048 18.2666 161.462 18.9746 170.876C19.2578 175.648 22.0898 177.84 26.7626 179.516C62.3043 191.767 97.7044 191.767 133.104 179.258C136.928 177.84 140.609 176.035 144.999 174.229C143.441 172.682 142.592 171.65 141.6 170.876C130.98 162.494 122.201 152.822 114.272 142.248C110.165 136.831 110.165 136.831 102.802 138.379C83.9691 142.248 64.9947 142.892 45.8787 140.313C36.6747 139.024 27.4706 137.089 17.1338 135.155ZM216.649 267.981C214.949 266.692 214.383 266.176 213.817 265.918C192.86 259.599 181.249 245.93 178.275 226.457C176.859 216.785 177.284 206.855 177.425 196.926C177.425 194.218 177.001 192.541 174.31 191.252C169.779 189.059 165.389 185.191 160.716 184.804C156.468 184.546 151.796 188.157 147.406 189.962C146.981 190.091 146.556 190.349 146.132 190.478C143.158 191.509 142.733 193.315 142.733 196.023C142.875 204.405 143.441 212.787 142.167 221.041C138.91 241.803 127.299 256.891 103.935 262.823C102.519 263.21 101.244 263.984 98.6956 265.144C138.06 281.264 176.576 282.167 216.649 267.981ZM27.8955 196.023C28.7451 198.602 29.0283 199.892 29.5947 201.052C37.0995 216.14 47.8611 228.778 60.1803 240.9C68.1099 248.767 77.3139 250.701 88.0755 250.185C109.032 249.154 121.635 239.611 125.6 221.299C127.157 213.819 128.573 206.211 125.6 197.957C93.1732 205.953 61.1715 205.566 27.8955 196.023ZM291.13 202.6C273.855 206.598 257.996 207.887 241.995 207.5C225.711 207.113 210.135 203.889 193.709 199.505C192.86 210.853 192.435 220.912 196.258 230.971C200.506 241.932 208.294 249.54 220.755 251.991C227.269 253.28 234.349 253.28 241.004 253.151C243.977 253.022 247.376 251.733 249.925 250.056C266.209 238.708 278.953 224.394 288.865 208.145C289.573 206.726 289.997 205.308 291.13 202.6ZM198.382 82.4111C222.596 95.4358 274.846 96.3385 289.997 88.3431C279.519 65.1307 250.633 38.5654 225.286 29.4094C221.605 38.3075 218.348 47.4635 213.958 56.2326C209.427 65.0018 203.763 73.384 198.382 82.4111ZM89.9164 33.0202C54.0915 47.9793 21.9482 92.8567 20.957 119.422C34.8339 125.096 58.1979 128.191 64.9947 125.354C64.1451 124.838 63.4371 124.193 62.7291 123.678C53.2419 116.714 50.9763 106.655 56.7819 98.015C62.8707 88.9879 74.1987 86.4088 85.2435 91.3092C86.8011 91.954 88.3588 92.5987 91.1908 93.7594C86.3764 72.9971 86.6595 53.5245 89.9164 33.0202ZM127.724 132.06C128.007 132.963 128.007 133.736 128.29 134.123C136.361 145.343 146.415 155.014 157.743 163.526C160.575 165.718 162.699 164.686 165.248 163.01C186.205 148.953 201.781 131.028 212.401 109.363C213.109 107.816 213.533 106.268 214.1 104.334C206.453 101.755 199.09 99.8204 192.152 96.8544C187.621 94.92 185.072 95.8227 181.815 98.7887C167.088 112.2 150.238 122.646 131.122 129.997C129.848 130.512 128.856 131.415 127.724 132.06ZM170.77 87.1825C144.149 71.8365 124.467 51.8481 109.599 27.475C100.112 58.8118 103.085 88.73 118.52 118.39C138.344 111.298 155.336 101.626 170.77 87.1825ZM197.957 50.0426C202.913 43.3368 205.462 35.8573 207.728 28.2488C209.427 22.4457 209.285 22.1877 203.055 20.5113C180.824 14.3213 158.168 13.2896 135.37 16.7715C132.113 17.2873 128.856 18.448 124.892 19.4796C133.529 35.0835 144.008 48.1083 158.168 58.6828C154.061 49.011 153.495 39.9839 162.699 32.7623C169.354 27.475 177.425 26.8302 185.213 30.0542C194.417 33.794 197.816 41.0156 197.957 50.0426ZM191.727 172.166C197.108 176.034 203.055 177.84 209.427 177.969C213.817 178.098 216.932 175.648 218.631 171.908C220.189 168.297 218.914 165.202 215.941 162.494C212.825 159.657 209.144 159.528 205.462 161.075C199.94 163.526 195.267 167.007 191.727 172.166ZM180.257 63.8411C183.656 57.6512 187.904 52.106 185.638 45.0133C184.081 39.9839 178.417 37.4048 173.602 38.9523C167.938 40.7577 165.248 45.6581 167.655 50.6874C170.204 56.1037 174.169 60.4882 180.257 63.8411ZM90.3411 117.101C88.9251 110.782 86.6595 105.752 82.2699 101.755C79.0131 98.9177 74.7651 98.2729 71.2251 99.9493C67.6851 101.626 65.4195 104.205 65.7027 108.203C65.8443 112.329 68.1099 115.037 72.3579 116.327C77.8803 118.003 83.6859 118.261 90.3411 117.101Z"
                fill="white" fill-opacity="0.06" />
        </svg>
    </div>
    {% endif %}
</div>

{%endmacro%}


{%macro galleryVideoCard(item)%}
<div class="gallery-video-card">
    {{picture(jpgSrc=item.image.src, webpSrc=item.image.webpSrc, loading=item.image.loading,
    class="gallery-video-card__image", alt=item.image.alt)}}
    <video class="gallery-video-card__video" data-src="{{item.video}}" controls playsinline></video>
    <div class="gallery-video-card__content">
        <button class="gallery-video-card__play-button" name="play-button" aria-label="Кнопка проигрывания видео">
            <svg class="gallery-video-card__play-icon" width="61" height="61" viewBox="0 0 61 61" fill="none"
                xmlns="http://www.w3.org/2000/svg">
                <circle cx="30.5" cy="30.5" r="29.5" stroke="white" stroke-width="2"></circle>
                <path d="M38.2744 30.4999L27.5097 38.2686V22.7311L38.2744 30.4999Z" fill="white"></path>
            </svg>
        </button>
        <div class="gallery-video-card__title">{{item.title}}</div>
        <p class="gallery-video-card__description">{{item.description | safe}}</p>
    </div>
</div>
{%endmacro%}