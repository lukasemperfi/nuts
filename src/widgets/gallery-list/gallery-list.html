{%from "src/shared/ui/picture/picture.html" import picture%}

{%macro galleryList(items)%}

<div class="gallery-list">
    {%for item in items%}
    <div
        class="gallery-list__item {{item.className}} {% if item.video %}gallery-list__item_video {%else%} gallery-list__item_picture{% endif %}">
        {{ galleryVideoCard(item) if item.video else galleryPictureCard(item) }}
    </div>
    {%endfor%}
</div>
{%endmacro%}


{%macro galleryPictureCard(item)%}
<div class="gallery-picture-card">
    {{picture(jpgSrc=item.image.src, webpSrc=item.image.webpSrc, loading=item.image.loading,
    class="gallery-picture-card__image", alt=item.image.alt)}}
    <div class="gallery-picture-card__content">
        <div class="gallery-picture-card__title">{{item.title}}</div>
        <p class="gallery-picture-card__description">{{item.description | safe}}</p>
    </div>
</div>

{%endmacro%}


{%macro galleryVideoCard(item)%}
<div class="gallery-video-card">
    {{picture(jpgSrc=item.image.src, webpSrc=item.image.webpSrc, loading=item.image.loading,
    class="gallery-video-card__image", alt=item.image.alt)}}
    <video class="gallery-video-card__video" data-src="/videos/home-page/hero.mp4" controls playsinline></video>
    <div class="gallery-video-card__content">
        <button class="gallery-video-card__play-button" name="play-button" aria-label="Кнопка проигрывания видео">
            <svg class="gallery-video-card__play-icon" width="61" height="61" viewBox="0 0 61 61" fill="none"
                xmlns="http://www.w3.org/2000/svg">
                <circle cx="30.5" cy="30.5" r="29.5" stroke="white" stroke-width="2"></circle>
                <path d="M38.2744 30.4999L27.5097 38.2686V22.7311L38.2744 30.4999Z" fill="white"></path>
            </svg>
        </button>
        <div class="gallery-video-card__title">{{item.title}}</div>
        <p class="gallery-video-card__description">{{item.description | safe}}</p>
    </div>
</div>

{%endmacro%}